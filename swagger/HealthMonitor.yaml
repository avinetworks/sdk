# GENERATED FILE - DO NOT EDIT THIS FILE
---
swagger: '2.0'
info:
    version: '16.3'
    title: Avi API
    contact:
        name: Avi Networks Inc.
        url: https://avinetworks.com/contact-us
        email: support@avinetworks.com
    description: HealthMonitor API documentation
securityDefinitions:
    basicAuth:
        type: basic
        description: basic authentication
basePath: /api
paths:
    /healthmonitor:
        get:
            consumes:
                -   application/json
            produces:
                -   application/json
            parameters:
                -   name: name
                    in: query
                    description: object name
                    required: false
                    type: string
                -   name: X-Avi-Tenant
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header
                -   name: X-Avi-Tenant-UUID
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header UUID
                -   name: X-CSRFToken
                    in: header
                    type: string
                    required: false
                    description: Avi Controller may send back CSRF token in the response cookies. The caller should update the request headers with this token else controller with reject requests.
            security:
                - basicAuth: []
            responses:
                200:
                    description: OK
                    schema:
                        $ref: "#/definitions/HealthMonitorApiResponse"
                401:
                    description: log in failed
        post:
            consumes:
                -   application/json
            produces:
                -   application/json
            parameters:
                -   name: X-Avi-Tenant
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header
                -   name: X-Avi-Tenant-UUID
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header UUID
                -   name: X-CSRFToken
                    in: header
                    type: string
                    required: false
                    description: Avi Controller may send back CSRF token in the response cookies. The caller should update the request headers with this token else controller with reject requests.
                -   in: body
                    name: body
                    description: HealthMonitor object creation
                    required: true
                    schema:
                        $ref: "#/definitions/HealthMonitor"
            security:
                - basicAuth: []
            responses:
                200:
                    description: OK
                    schema:
                        $ref: "#/definitions/HealthMonitor"
                401:
                    description: log in failed
    /healthmonitor/{uuid}:
        get:
            consumes:
                -   application/json
            produces:
                -   application/json
            parameters:
                -   name: name
                    in: query
                    description: object name
                    required: false
                    type: string
                -   name: X-Avi-Tenant
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header
                -   name: X-Avi-Tenant-UUID
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header UUID
                -   name: X-CSRFToken
                    in: header
                    type: string
                    required: false
                    description: Avi Controller may send back CSRF token in the response cookies. The caller should update the request headers with this token else controller with reject requests.
                -   name: uuid
                    in: path
                    description: UUID of the object to fetch
                    required: true
                    type: string
            security:
                - basicAuth: []
            responses:
                200:
                    description: OK
                    schema:
                        $ref: "#/definitions/HealthMonitor"
                401:
                    description: log in failed
        put:
            consumes:
                -   application/json
            produces:
                -   application/json
            parameters:
                -   in: query
                    name: name
                    description: object name
                    required: false
                    type: string
                -   in: header
                    name: X-Avi-Tenant
                    type: string
                    required: false
                    description: Avi Tenant Header
                -   name: X-Avi-Tenant-UUID
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header UUID
                -   name: X-CSRFToken
                    in: header
                    type: string
                    required: false
                    description: Avi Controller may send back CSRF token in the response cookies. The caller should update the request headers with this token else controller with reject requests.
                -   in: body
                    name: body
                    description: HealthMonitor object creation
                    required: true
                    schema:
                        $ref: "#/definitions/HealthMonitor"
                -   in: path
                    name: uuid
                    description: UUID of the object to fetch
                    required: true
                    type: string
            security:
                - basicAuth: []
            responses:
                200:
                    description: OK
                    schema:
                        $ref: "#/definitions/HealthMonitor"
                401:
                    description: log in failed
        patch:
            consumes:
                -   application/json
            produces:
                -   application/json
            parameters:
                -   in: query
                    name: name
                    description: object name
                    required: false
                    type: string
                -   in: header
                    name: X-Avi-Tenant
                    type: string
                    required: false
                    description: Avi Tenant Header
                -   name: X-Avi-Tenant-UUID
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header UUID
                -   name: X-CSRFToken
                    in: header
                    type: string
                    required: false
                    description: Avi Controller may send back CSRF token in the response cookies. The caller should update the request headers with this token else controller with reject requests.
                -   in: body
                    name: body
                    description: HealthMonitor object creation
                    required: true
                    schema:
                        $ref: "#/definitions/HealthMonitor"
                -   in: path
                    name: uuid
                    description: UUID of the object to fetch
                    required: true
                    type: string
            security:
                - basicAuth: []
            responses:
                200:
                    description: OK
                    schema:
                        $ref: "#/definitions/HealthMonitor"
                401:
                    description: log in failed
        delete:
            consumes:
                -   application/json
            produces:
                -   application/json
            parameters:
                -   in: query
                    name: name
                    description: object name
                    required: false
                    type: string
                -   in: header
                    name: X-Avi-Tenant
                    type: string
                    required: false
                    description: Avi Tenant Header
                -   name: X-Avi-Tenant-UUID
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header UUID
                -   name: X-CSRFToken
                    in: header
                    type: string
                    required: false
                    description: Avi Controller may send back CSRF token in the response cookies. The caller should update the request headers with this token else controller with reject requests.
                -   in: path
                    name: uuid
                    description: UUID of the object to fetch
                    required: true
                    type: string
            security:
                - basicAuth: []
            responses:
                204:
                    description: object deleted
                    schema:
                        type: string
                404:
                    description: not found

definitions:
    HealthMonitor:
        type: object
        required:
            -   name
            -   type
        properties:
            description:
                description: ""
                type: string
            dns_monitor:
                $ref: '#/definitions/HealthMonitorDNS'
            external_monitor:
                $ref: '#/definitions/HealthMonitorExternal'
            failed_checks:
                description: "Number of continuous failed health checks before the server is marked down."
                type: integer
                format: int32
            http_monitor:
                $ref: '#/definitions/HealthMonitorHttp'
            https_monitor:
                $ref: '#/definitions/HealthMonitorHttp'
            monitor_port:
                description: "Use this port instead of the port defined for the server in the Pool. If the monitor succeeds to this port, the load balanced traffic will still be sent to the port of the server defined within the Pool."
                type: integer
                format: int32
            name:
                description: "A user friendly name for this health monitor."
                type: string
            receive_timeout:
                description: "A valid response from the server is expected within the receive timeout window.  This timeout must be less than the send interval.  If server status is regularly flapping up and down, consider increasing this value."
                type: integer
                format: int32
            send_interval:
                description: "Frequency, in seconds, that monitors are sent to a server."
                type: integer
                format: int32
            successful_checks:
                description: "Number of continuous successful health checks before server is marked up."
                type: integer
                format: int32
            tcp_monitor:
                $ref: '#/definitions/HealthMonitorTcp'
            tenant_ref:
                description: " object ref Tenant."
                type: string
            type:
                description: "Type of the health monitor.Enum options - HEALTH_MONITOR_PING, HEALTH_MONITOR_TCP, HEALTH_MONITOR_HTTP, HEALTH_MONITOR_HTTPS, HEALTH_MONITOR_EXTERNAL, HEALTH_MONITOR_UDP, HEALTH_MONITOR_DNS, HEALTH_MONITOR_GSLB"
                type: number
                format: int64
            udp_monitor:
                $ref: '#/definitions/HealthMonitorUdp'
            url:
                description: "url"
                readOnly: True
                type: string
            uuid:
                description: "UUID of the health monitor."
                type: string
    HealthMonitorApiResponse:
        type: object
        required:
            - count
            - results
        properties:
            count:
                type: integer
                format: int32
            results:
                type: array
                items:
                    $ref: "#/definitions/HealthMonitor"
    HealthMonitorDNS:
        type: object
        required:
            -   query_name
        properties:
            qtype:
                description: "  Query_Type  Response has atleast one answer of which      the resource record type matches the query type   Any_Type  Response should contain atleast one answer  AnyThing  An empty answer is enough. Enum options - DNS_QUERY_TYPE, DNS_ANY_TYPE, DNS_ANY_THING"
                type: number
                format: int64
            query_name:
                description: "The DNS monitor will query the DNS server for the fully qualified name in this field."
                type: string
            rcode:
                description: "When No Error is selected, a DNS query will be marked failed is any error code is returned by the server.  With Any selected, the monitor ignores error code in the responses.Enum options - RCODE_NO_ERROR, RCODE_ANYTHING"
                type: number
                format: int64
            response_string:
                description: "The resource record of the queried DNS server's response for the Request Name must include the IP address defined in this field. "
                type: string
    HealthMonitorExternal:
        type: object
        required:
            -   command_code
        properties:
            command_code:
                description: "Command script provided inline."
                type: string
            command_parameters:
                description: "Optional arguments to feed into the script."
                type: string
            command_path:
                description: "Path of external health monitor script."
                type: string
            command_variables:
                description: "Environment variables to be fed into the script."
                type: string
    HealthMonitorHttp:
        type: object
        properties:
            http_request:
                description: "Send an HTTP request to the server.  The default GET / HTTP/1.0 may be extended with additional headers or information.  For instance, GET /index.htm HTTP/1.1 Host  www.site.com Connection  Close"
                type: string
            http_response:
                description: "Match for a keyword in the first 2Kb of the server header and body response."
                type: string
            http_response_code:
                description: "List of HTTP response codes to match as successful.  Default is 2xx.Enum options - HTTP_ANY, HTTP_1XX, HTTP_2XX, HTTP_3XX, HTTP_4XX, HTTP_5XX"
                type: array
                items:
                    type: number
                format: int64
            maintenance_code:
                description: "Match or look for this HTTP response code indicating server maintenance.  A successful match results in the server being marked down."
                type: array
                items:
                    type: integer
                format: int32
            maintenance_response:
                description: "Match or look for this keyword in the first 2KB of server header and body response indicating server maintenance.  A successful match results in the server being marked down."
                type: string
    HealthMonitorTcp:
        type: object
        properties:
            maintenance_response:
                description: "Match or look for this keyword in the first 2KB of server's response indicating server maintenance.  A successful match results in the server being marked down."
                type: string
            tcp_half_open:
                description: "Configure TCP health monitor to use half-open TCP connections to monitor the health of backend servers thereby avoiding consumption of a full fledged server side connection and the overhead and logs associated with it.  This method is light-weight as it makes use of listener in server's kernel layer to measure the health and a child socket or user thread is not created on the server side."
                type: boolean
            tcp_request:
                description: "Request data to send after completing the TCP handshake."
                type: string
            tcp_response:
                description: "Match for the desired keyword in the first 2Kb of the server's TCP response. If this field is left blank, no server response is required."
                type: string
    HealthMonitorUdp:
        type: object
        properties:
            maintenance_response:
                description: "Match or look for this keyword in the first 2KB of server's response indicating server maintenance.  A successful match results in the server being marked down."
                type: string
            udp_request:
                description: "Send UDP request."
                type: string
            udp_response:
                description: "Match for keyword in the UDP response."
                type: string
