# GENERATED FILE - DO NOT EDIT THIS FILE
---
swagger: '2.0'
info:
    version: '16.3'
    title: Avi API
schemes:
    -   https
securityDefinitions:
    basicAuth:
        type: basic
        description: basic authentication
basePath: /api
paths:
    /httppolicyset:
        get:
            consumes:
                -   application/json
            produces:
                -   application/json
            parameters:
                -   name: name
                    in: query
                    description: object name
                    required: false
                    type: string
                -   name: X-Avi-Tenant
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header
                -   name: X-Avi-Tenant-UUID
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header UUID
                -   name: X-CSRFToken
                    in: header
                    type: string
                    required: false
                    description: Avi Controller may send back CSRF token in the response cookies. The caller should update the request headers with this token else controller with reject requests.
            security:
                - basicAuth: []
            responses:
                200:
                    description: OK
                    schema:
                        $ref: "#/definitions/HTTPPolicySetApiResponse"
                401:
                    description: log in failed                     
        post:
            consumes:
                -   application/json
            produces:
                -   application/json
            parameters:
                -   name: X-Avi-Tenant
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header
                -   name: X-Avi-Tenant-UUID
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header UUID
                -   name: X-CSRFToken
                    in: header
                    type: string
                    required: false
                    description: Avi Controller may send back CSRF token in the response cookies. The caller should update the request headers with this token else controller with reject requests.
                -   in: body
                    name: body
                    description: HTTPPolicySet object creation
                    required: true
                    schema:
                        $ref: "#/definitions/HTTPPolicySet"
            security:
                - basicAuth: []
            responses:
                200:
                    description: OK
                    schema:
                        $ref: "#/definitions/HTTPPolicySet"
                401:
                    description: log in failed
    /httppolicyset/{uuid}:
        get:
            consumes:
                -   application/json
            produces:
                -   application/json
            parameters:
                -   name: name
                    in: query
                    description: object name
                    required: false
                    type: string
                -   name: X-Avi-Tenant
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header
                -   name: X-Avi-Tenant-UUID
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header UUID
                -   name: X-CSRFToken
                    in: header
                    type: string
                    required: false
                    description: Avi Controller may send back CSRF token in the response cookies. The caller should update the request headers with this token else controller with reject requests.
                -   name: uuid
                    in: path
                    description: UUID of the object to fetch
                    required: true
                    type: string
            security:
                - basicAuth: []
            responses:
                200:
                    description: OK
                    schema:
                        $ref: "#/definitions/HTTPPolicySet"
                401:
                    description: log in failed
        put:
            consumes:
                -   application/json
            produces:
                -   application/json
            parameters:
                -   in: query
                    name: name
                    description: object name
                    required: false
                    type: string
                -   in: header
                    name: X-Avi-Tenant
                    type: string
                    required: false
                    description: Avi Tenant Header
                -   name: X-Avi-Tenant-UUID
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header UUID
                -   name: X-CSRFToken
                    in: header
                    type: string
                    required: false
                    description: Avi Controller may send back CSRF token in the response cookies. The caller should update the request headers with this token else controller with reject requests.
                -   in: body
                    name: body
                    description: HTTPPolicySet object creation
                    required: true
                    schema:
                        $ref: "#/definitions/HTTPPolicySet"
                -   in: path
                    name: uuid
                    description: UUID of the object to fetch
                    required: true
                    type: string
            security:
                - basicAuth: []
            responses:
                200:
                    description: OK
                    schema:
                        $ref: "#/definitions/HTTPPolicySet"
                401:
                    description: log in failed
        patch:
            consumes:
                -   application/json
            produces:
                -   application/json
            parameters:
                -   in: query
                    name: name
                    description: object name
                    required: false
                    type: string
                -   in: header
                    name: X-Avi-Tenant
                    type: string
                    required: false
                    description: Avi Tenant Header
                -   name: X-Avi-Tenant-UUID
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header UUID
                -   name: X-CSRFToken
                    in: header
                    type: string
                    required: false
                    description: Avi Controller may send back CSRF token in the response cookies. The caller should update the request headers with this token else controller with reject requests.
                -   in: body
                    name: body
                    description: HTTPPolicySet object creation
                    required: true
                    schema:
                        $ref: "#/definitions/HTTPPolicySet"
                -   in: path
                    name: uuid
                    description: UUID of the object to fetch
                    required: true
                    type: string
            security:
                - basicAuth: []
            responses:
                200:
                    description: OK
                    schema:
                        $ref: "#/definitions/HTTPPolicySet"
                401:
                    description: log in failed
        delete:
            consumes:
                -   application/json
            produces:
                -   application/json
            parameters:
                -   in: query
                    name: name
                    description: object name
                    required: false
                    type: string
                -   in: header
                    name: X-Avi-Tenant
                    type: string
                    required: false
                    description: Avi Tenant Header
                -   name: X-Avi-Tenant-UUID
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header UUID
                -   name: X-CSRFToken
                    in: header
                    type: string
                    required: false
                    description: Avi Controller may send back CSRF token in the response cookies. The caller should update the request headers with this token else controller with reject requests.
                -   in: path
                    name: uuid
                    description: UUID of the object to fetch
                    required: true
                    type: string
            security:
                - basicAuth: []
            responses:
                204:
                    description: object deleted
                    schema:
                        type: string
                404:
                    description: not found
definitions:
    CookieMatch:
        type: object
        required:
            -   match_criteria
            -   name
        properties:
            match_case:
                description: Case sensitivity to use for the match
                type: number
                format: int64
            match_criteria:
                description: Criterion to use for matching the cookie in the HTTP request
                type: number
                format: int64
            name:
                description: Name of the cookie
                type: string
            value:
                description: String value in the cookie
                type: string
    HdrMatch:
        type: object
        required:
            -   hdr
            -   match_criteria
        properties:
            hdr:
                description: Name of the HTTP header whose value is to be matched
                type: string
            match_case:
                description: Case sensitivity to use for the match
                type: number
                format: int64
            match_criteria:
                description: Criterion to use for matching headers in the HTTP request
                type: number
                format: int64
            value:
                description: String values to match in the HTTP header
                type: array
                items:
                    type: string
    HostHdrMatch:
        type: object
        required:
            -   match_criteria
        properties:
            match_case:
                description: Case sensitivity to use for the match
                type: number
                format: int64
            match_criteria:
                description: Criterion to use for the host header value match
                type: number
                format: int64
            value:
                description: String value(s) in the host header
                type: array
                items:
                    type: string
    HTTPCookieData:
        type: object
        properties:
            name:
                description: Cookie name
                type: string
            value:
                description: Cookie value
                type: string
    HTTPHdrAction:
        type: object
        required:
            -   action
        properties:
            action:
                description: ADD: A new header with the new value is added irrespective of the existence of an HTTP header of the given name. REPLACE: A new header with the new value is added if no header of the given name exists, else existing headers with the given name are removed and a new header with the new value is added. REMOVE: All the headers of the given name are removed.
                type: number
                format: int64
            cookie:
                $ref: '#/definitions/HTTPCookieData'
            hdr:
                $ref: '#/definitions/HTTPHdrData'
    HTTPHdrData:
        type: object
        properties:
            name:
                description: HTTP header name
                type: string
            value:
                $ref: '#/definitions/HTTPHdrValue'
    HTTPHdrValue:
        type: object
        properties:
            val:
                description: HTTP header value or variable representing an HTTP header
                type: string
            var:
                description: Variable
                type: number
                format: int64
    HTTPLocalFile:
        type: object
        required:
            -   content_type
            -   file_content
        properties:
            content_type:
                description: Mime-type of the content in the file.
                type: string
            file_content:
                description: File content to used in the local HTTP response body.
                type: string
    HTTPPolicies:
        type: object
        required:
            -   http_policy_set_ref
            -   index
        properties:
            http_policy_set_ref:
                description: UUID of the virtual service HTTP policy collection object ref HTTPPolicySet.
                type: string
            index:
                description: Index of the virtual service HTTP policy collection
                type: integer
                format: int32
    HTTPPolicySet:
        type: object
        required:
            -   name
        properties:
            cloud_config_cksum:
                description: Checksum of cloud configuration for Pool. Internally set by cloud connector
                type: string
            created_by:
                description: Creator name
                type: string
            description:
                description: Jeez! somebody forgot about it
                type: string
            http_request_policy:
                $ref: '#/definitions/HTTPRequestPolicy'
            http_response_policy:
                $ref: '#/definitions/HTTPResponsePolicy'
            http_security_policy:
                $ref: '#/definitions/HTTPSecurityPolicy'
            is_internal_policy:
                description: Jeez! somebody forgot about it
                type: boolean
            name:
                description: Name of the HTTP Policy Set
                type: string
            tenant_ref:
                description: Jeez! somebody forgot about it object ref Tenant.
                type: string
            url:
                description: url
                readOnly: True
                type: string
            uuid:
                description: UUID of the HTTP Policy Set
                type: string
    HTTPPolicySetApiResponse:
        type: object
        required:
            - count
            - results
        properties:
            count:
                type: integer
                format: int32
            results:
                type: array
                items:
                    $ref: "#/definitions/HTTPPolicySet"
    HTTPRedirectAction:
        type: object
        required:
            -   protocol
        properties:
            host:
                $ref: '#/definitions/URIParam'
            keep_query:
                description: Keep or drop the query of the incoming request URI in the redirected URI
                type: boolean
            path:
                $ref: '#/definitions/URIParam'
            port:
                description: Port to which redirect the request
                type: integer
                format: int32
            protocol:
                description: Protocol type
                type: number
                format: int64
            status_code:
                description: HTTP redirect status code
                type: number
                format: int64
    HTTPRequestPolicy:
        type: object
        properties:
            rules:
                type: array
                items:
                    $ref: '#/definitions/HTTPRequestRule'
    HTTPRequestRule:
        type: object
        required:
            -   enable
            -   index
            -   name
        properties:
            all_headers:
                description: Log all HTTP headers upon rule match
                type: boolean
            enable:
                description: Enable or disable the rule
                type: boolean
            hdr_action:
                type: array
                items:
                    $ref: '#/definitions/HTTPHdrAction'
            index:
                description: Index of the rule
                type: integer
                format: int32
            log:
                description: Log HTTP request upon rule match
                type: boolean
            match:
                $ref: '#/definitions/MatchTarget'
            name:
                description: Name of the rule
                type: string
            redirect_action:
                $ref: '#/definitions/HTTPRedirectAction'
            rewrite_url_action:
                $ref: '#/definitions/HTTPRewriteURLAction'
            switching_action:
                $ref: '#/definitions/HTTPSwitchingAction'
    HTTPResponsePolicy:
        type: object
        properties:
            rules:
                type: array
                items:
                    $ref: '#/definitions/HTTPResponseRule'
    HTTPResponseRule:
        type: object
        required:
            -   enable
            -   index
            -   name
        properties:
            all_headers:
                description: Log all HTTP headers upon rule match
                type: boolean
            enable:
                description: Enable or disable the rule
                type: boolean
            hdr_action:
                type: array
                items:
                    $ref: '#/definitions/HTTPHdrAction'
            index:
                description: Index of the rule
                type: integer
                format: int32
            loc_hdr_action:
                $ref: '#/definitions/HTTPRewriteLocHdrAction'
            log:
                description: Log HTTP request upon rule match
                type: boolean
            match:
                $ref: '#/definitions/ResponseMatchTarget'
            name:
                description: Name of the rule
                type: string
    HTTPRewriteLocHdrAction:
        type: object
        required:
            -   protocol
        properties:
            host:
                $ref: '#/definitions/URIParam'
            keep_query:
                description: Keep or drop the query from the server side redirect URI
                type: boolean
            path:
                $ref: '#/definitions/URIParam'
            port:
                description: Port to use in the redirected URI
                type: integer
                format: int32
            protocol:
                description: HTTP protocol type
                type: number
                format: int64
    HTTPRewriteURLAction:
        type: object
        properties:
            host_hdr:
                $ref: '#/definitions/URIParam'
            path:
                $ref: '#/definitions/URIParam'
            query:
                $ref: '#/definitions/URIParamQuery'
    HTTPSecurityAction:
        type: object
        required:
            -   action
        properties:
            action:
                description: Type of the security action to perform
                type: number
                format: int64
            file:
                $ref: '#/definitions/HTTPLocalFile'
            https_port:
                description: Secure SSL/TLS port to redirect the HTTP request to
                type: integer
                format: int32
            rate_limit:
                $ref: '#/definitions/RateProfile'
            status_code:
                description: HTTP status code to use for local response
                type: number
                format: int64
    HTTPSecurityPolicy:
        type: object
        properties:
            rules:
                type: array
                items:
                    $ref: '#/definitions/HTTPSecurityRule'
    HTTPSecurityRule:
        type: object
        required:
            -   enable
            -   index
            -   name
        properties:
            action:
                $ref: '#/definitions/HTTPSecurityAction'
            enable:
                description: Enable or disable the rule
                type: boolean
            index:
                description: Index of the rule
                type: integer
                format: int32
            log:
                description: Log HTTP request upon rule match
                type: boolean
            match:
                $ref: '#/definitions/MatchTarget'
            name:
                description: Name of the rule
                type: string
    HTTPStatusMatch:
        type: object
        required:
            -   match_criteria
        properties:
            match_criteria:
                description: Criterion to use for matching the HTTP response status code(s)
                type: number
                format: int64
            ranges:
                type: array
                items:
                    $ref: '#/definitions/HTTPStatusRange'
            status_codes:
                description: HTTP response status code(s)
                type: array
                items:
                    type: integer
                format: int32
    HTTPStatusRange:
        type: object
        required:
            -   begin
            -   end
        properties:
            begin:
                description: Starting HTTP response status code
                type: integer
                format: int32
            end:
                description: Ending HTTP response status code
                type: integer
                format: int32
    HTTPSwitchingAction:
        type: object
        required:
            -   action
        properties:
            action:
                description: Content switching action type
                type: number
                format: int64
            file:
                $ref: '#/definitions/HTTPLocalFile'
            pool_group_ref:
                description: UUID of the pool group to serve the request object ref PoolGroup.
                type: string
            pool_ref:
                description: UUID of the pool of servers to serve the request object ref Pool.
                type: string
            server:
                $ref: '#/definitions/PoolServer'
            status_code:
                description: HTTP status code to use when serving local response
                type: number
                format: int64
    HTTPVersionMatch:
        type: object
        required:
            -   match_criteria
        properties:
            match_criteria:
                description: Criterion to use for HTTP version matching the version used in the HTTP request
                type: number
                format: int64
            versions:
                description: HTTP protocol version
                type: array
                items:
                    type: number
                format: int64
    IpAddr:
        type: object
        required:
            -   addr
            -   type
        properties:
            addr:
                description: IP address
                type: string
            type:
                description: Jeez! somebody forgot about it
                type: number
                format: int64
    IpAddrMatch:
        type: object
        required:
            -   match_criteria
        properties:
            addrs:
                type: array
                items:
                    $ref: '#/definitions/IpAddr'
            group_refs:
                description: UUID of IP address group(s) object ref IpAddrGroup.
                type: array
                items:
                    type: string
            match_criteria:
                description: Criterion to use for IP address matching the HTTP request
                type: number
                format: int64
            prefixes:
                type: array
                items:
                    $ref: '#/definitions/IpAddrPrefix'
            ranges:
                type: array
                items:
                    $ref: '#/definitions/IpAddrRange'
    IpAddrPrefix:
        type: object
        required:
            -   ip_addr
            -   mask
        properties:
            ip_addr:
                $ref: '#/definitions/IpAddr'
            mask:
                description: Jeez! somebody forgot about it
                type: integer
                format: int32
    IpAddrRange:
        type: object
        required:
            -   begin
            -   end
        properties:
            begin:
                $ref: '#/definitions/IpAddr'
            end:
                $ref: '#/definitions/IpAddr'
    LocationHdrMatch:
        type: object
        required:
            -   match_criteria
        properties:
            match_case:
                description: Case sensitivity to use for the match
                type: number
                format: int64
            match_criteria:
                description: Criterion to use for matching location header value in the HTTP response
                type: number
                format: int64
            value:
                description: String value(s) in the location header
                type: array
                items:
                    type: string
    MatchTarget:
        type: object
        properties:
            client_ip:
                $ref: '#/definitions/IpAddrMatch'
            cookie:
                $ref: '#/definitions/CookieMatch'
            hdrs:
                type: array
                items:
                    $ref: '#/definitions/HdrMatch'
            host_hdr:
                $ref: '#/definitions/HostHdrMatch'
            method:
                $ref: '#/definitions/MethodMatch'
            path:
                $ref: '#/definitions/PathMatch'
            protocol:
                $ref: '#/definitions/ProtocolMatch'
            query:
                $ref: '#/definitions/QueryMatch'
            version:
                $ref: '#/definitions/HTTPVersionMatch'
            vs_port:
                $ref: '#/definitions/PortMatch'
    MethodMatch:
        type: object
        required:
            -   match_criteria
        properties:
            match_criteria:
                description: Criterion to use for HTTP method matching the method in the HTTP request
                type: number
                format: int64
            methods:
                description: Configure HTTP method(s)
                type: array
                items:
                    type: number
                format: int64
    PathMatch:
        type: object
        required:
            -   match_criteria
        properties:
            match_case:
                description: Case sensitivity to use for the matching
                type: number
                format: int64
            match_criteria:
                description: Criterion to use for matching the path in the HTTP request URI
                type: number
                format: int64
            match_str:
                description: String values
                type: array
                items:
                    type: string
            string_group_refs:
                description: UUID of the string group(s) object ref StringGroup.
                type: array
                items:
                    type: string
    PoolServer:
        type: object
        required:
            -   ip
        properties:
            hostname:
                description: DNS resolvable name of the server.  May be used in place of the IP address.
                type: string
            ip:
                $ref: '#/definitions/IpAddr'
            port:
                description: Port of the pool server listening for HTTP/HTTPS. Default value is the default port in the pool.
                type: integer
                format: int32
    PortMatch:
        type: object
        required:
            -   match_criteria
        properties:
            match_criteria:
                description: Criterion to use for port matching the HTTP request
                type: number
                format: int64
            ports:
                description: TCP port(s) listening for HTTP/HTTPS
                type: array
                items:
                    type: integer
                format: int32
    ProtocolMatch:
        type: object
        required:
            -   match_criteria
            -   protocols
        properties:
            match_criteria:
                description: Criterion to use for protocol matching the HTTP request
                type: number
                format: int64
            protocols:
                description: HTTP or HTTPS protocol
                type: number
                format: int64
    QueryMatch:
        type: object
        required:
            -   match_criteria
        properties:
            match_case:
                description: Case sensitivity to use for the match
                type: number
                format: int64
            match_criteria:
                description: Criterion to use for matching the query in HTTP request URI
                type: number
                format: int64
            match_str:
                description: String value(s)
                type: array
                items:
                    type: string
            string_group_refs:
                description: UUID of the string group(s) object ref StringGroup.
                type: array
                items:
                    type: string
    RateLimiterAction:
        type: object
        properties:
            file:
                $ref: '#/definitions/HTTPLocalFile'
            redirect:
                $ref: '#/definitions/HTTPRedirectAction'
            status_code:
                description: HTTP status code for Local Response rate limit action.
                type: number
                format: int64
            type:
                description: Type of action to be enforced upon hitting the rate limit.
                type: number
                format: int64
    RateProfile:
        type: object
        properties:
            action:
                $ref: '#/definitions/RateLimiterAction'
            burst_sz:
                description: Maximum number of connections or requests or packets to be let through instantaneously
                type: integer
                format: int32
            count:
                description: Maximum number of connections or requests or packets
                type: integer
                format: int32
            explicit_tracking:
                description: Explicitly tracks an attacker across rate periods
                type: boolean
            fine_grain:
                description: Enable fine granularity
                type: boolean
            period:
                description: Time value in seconds to enforce rate count
                type: integer
                format: int32
    ResponseMatchTarget:
        type: object
        properties:
            client_ip:
                $ref: '#/definitions/IpAddrMatch'
            cookie:
                $ref: '#/definitions/CookieMatch'
            hdrs:
                type: array
                items:
                    $ref: '#/definitions/HdrMatch'
            host_hdr:
                $ref: '#/definitions/HostHdrMatch'
            loc_hdr:
                $ref: '#/definitions/LocationHdrMatch'
            method:
                $ref: '#/definitions/MethodMatch'
            path:
                $ref: '#/definitions/PathMatch'
            protocol:
                $ref: '#/definitions/ProtocolMatch'
            query:
                $ref: '#/definitions/QueryMatch'
            rsp_hdrs:
                type: array
                items:
                    $ref: '#/definitions/HdrMatch'
            status:
                $ref: '#/definitions/HTTPStatusMatch'
            version:
                $ref: '#/definitions/HTTPVersionMatch'
            vs_port:
                $ref: '#/definitions/PortMatch'
    URIParam:
        type: object
        required:
            -   type
        properties:
            tokens:
                type: array
                items:
                    $ref: '#/definitions/URIParamToken'
            type:
                description: URI param type
                type: number
                format: int64
    URIParamQuery:
        type: object
        properties:
            add_string:
                description: Concatenate a string to the query of the incoming request URI and then use it in the request URI going to the backend server
                type: string
            keep_query:
                description: Use or drop the query of the incoming request URI in the request URI to the backend server
                type: boolean
    URIParamToken:
        type: object
        required:
            -   type
        properties:
            end_index:
                description: Index of the ending token in the incoming URI
                type: integer
                format: int32
            start_index:
                description: Index of the starting token in the incoming URI
                type: integer
                format: int32
            str_value:
                description: Constant string to use as a token
                type: string
            type:
                description: Token type for constructing the URI
                type: number
                format: int64
