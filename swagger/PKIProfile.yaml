# GENERATED FILE - DO NOT EDIT THIS FILE
---
swagger: '2.0'
info:
    version: '16.3'
    title: Avi API
    contact:
        name: Avi Networks Inc.
        url: https://avinetworks.com/contact-us
        email: support@avinetworks.com
    description: PKIProfile API documentation
securityDefinitions:
    basicAuth:
        type: basic
        description: basic authentication
basePath: /api
paths:
    /pkiprofile:
        get:
            consumes:
                -   application/json
            produces:
                -   application/json
            parameters:
                -   name: name
                    in: query
                    description: object name
                    required: false
                    type: string
                -   name: X-Avi-Tenant
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header
                -   name: X-Avi-Tenant-UUID
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header UUID
                -   name: X-CSRFToken
                    in: header
                    type: string
                    required: false
                    description: Avi Controller may send back CSRF token in the response cookies. The caller should update the request headers with this token else controller with reject requests.
            security:
                - basicAuth: []
            responses:
                200:
                    description: OK
                    schema:
                        $ref: "#/definitions/PKIProfileApiResponse"
                401:
                    description: log in failed
        post:
            consumes:
                -   application/json
            produces:
                -   application/json
            parameters:
                -   name: X-Avi-Tenant
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header
                -   name: X-Avi-Tenant-UUID
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header UUID
                -   name: X-CSRFToken
                    in: header
                    type: string
                    required: false
                    description: Avi Controller may send back CSRF token in the response cookies. The caller should update the request headers with this token else controller with reject requests.
                -   in: body
                    name: body
                    description: PKIProfile object creation
                    required: true
                    schema:
                        $ref: "#/definitions/PKIProfile"
            security:
                - basicAuth: []
            responses:
                200:
                    description: OK
                    schema:
                        $ref: "#/definitions/PKIProfile"
                401:
                    description: log in failed
    /pkiprofile/{uuid}:
        get:
            consumes:
                -   application/json
            produces:
                -   application/json
            parameters:
                -   name: name
                    in: query
                    description: object name
                    required: false
                    type: string
                -   name: X-Avi-Tenant
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header
                -   name: X-Avi-Tenant-UUID
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header UUID
                -   name: X-CSRFToken
                    in: header
                    type: string
                    required: false
                    description: Avi Controller may send back CSRF token in the response cookies. The caller should update the request headers with this token else controller with reject requests.
                -   name: uuid
                    in: path
                    description: UUID of the object to fetch
                    required: true
                    type: string
            security:
                - basicAuth: []
            responses:
                200:
                    description: OK
                    schema:
                        $ref: "#/definitions/PKIProfile"
                401:
                    description: log in failed
        put:
            consumes:
                -   application/json
            produces:
                -   application/json
            parameters:
                -   in: query
                    name: name
                    description: object name
                    required: false
                    type: string
                -   in: header
                    name: X-Avi-Tenant
                    type: string
                    required: false
                    description: Avi Tenant Header
                -   name: X-Avi-Tenant-UUID
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header UUID
                -   name: X-CSRFToken
                    in: header
                    type: string
                    required: false
                    description: Avi Controller may send back CSRF token in the response cookies. The caller should update the request headers with this token else controller with reject requests.
                -   in: body
                    name: body
                    description: PKIProfile object creation
                    required: true
                    schema:
                        $ref: "#/definitions/PKIProfile"
                -   in: path
                    name: uuid
                    description: UUID of the object to fetch
                    required: true
                    type: string
            security:
                - basicAuth: []
            responses:
                200:
                    description: OK
                    schema:
                        $ref: "#/definitions/PKIProfile"
                401:
                    description: log in failed
        patch:
            consumes:
                -   application/json
            produces:
                -   application/json
            parameters:
                -   in: query
                    name: name
                    description: object name
                    required: false
                    type: string
                -   in: header
                    name: X-Avi-Tenant
                    type: string
                    required: false
                    description: Avi Tenant Header
                -   name: X-Avi-Tenant-UUID
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header UUID
                -   name: X-CSRFToken
                    in: header
                    type: string
                    required: false
                    description: Avi Controller may send back CSRF token in the response cookies. The caller should update the request headers with this token else controller with reject requests.
                -   in: body
                    name: body
                    description: PKIProfile object creation
                    required: true
                    schema:
                        $ref: "#/definitions/PKIProfile"
                -   in: path
                    name: uuid
                    description: UUID of the object to fetch
                    required: true
                    type: string
            security:
                - basicAuth: []
            responses:
                200:
                    description: OK
                    schema:
                        $ref: "#/definitions/PKIProfile"
                401:
                    description: log in failed
        delete:
            consumes:
                -   application/json
            produces:
                -   application/json
            parameters:
                -   in: query
                    name: name
                    description: object name
                    required: false
                    type: string
                -   in: header
                    name: X-Avi-Tenant
                    type: string
                    required: false
                    description: Avi Tenant Header
                -   name: X-Avi-Tenant-UUID
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header UUID
                -   name: X-CSRFToken
                    in: header
                    type: string
                    required: false
                    description: Avi Controller may send back CSRF token in the response cookies. The caller should update the request headers with this token else controller with reject requests.
                -   in: path
                    name: uuid
                    description: UUID of the object to fetch
                    required: true
                    type: string
            security:
                - basicAuth: []
            responses:
                204:
                    description: object deleted
                    schema:
                        type: string
                404:
                    description: not found

definitions:
    CRL:
        type: object
        properties:
            body:
                description: "Certificate Revocation list from a given issuer in PEM format. This can either be configured directly or via the server_url. "
                type: string
            common_name:
                description: "Common name of the issuer in the Certificate Revocation list"
                type: string
            distinguished_name:
                description: "Distinguished name of the issuer in the Certificate Revocation list"
                type: string
            etag:
                description: "Cached etag to optimize the download of the CRL"
                type: string
            fingerprint:
                description: "Fingerprint of the CRL. Used to avoid configuring duplicates"
                type: string
            last_refreshed:
                description: "Last time CRL was refreshed by the system. This is an internal field used by the system"
                readOnly: True
                type: string
            last_update:
                description: "The date when this CRL was last issued"
                type: string
            next_update:
                description: "The date when a newer CRL will be available. Also conveys the date after which the CRL should be considered obsolete."
                type: string
            server_url:
                description: "URL of a server that issues the Certificate Revocation list. If this is configured, CRL will be periodically downloaded either based on the configured update interval or the next update interval in the CRL. CRL itself is stored in the body."
                type: string
            text:
                description: "Certificate Revocation list in plain text for readability"
                type: string
            update_interval:
                description: "Interval in minutes to check for CRL update. If not specified, interval will be 1 day"
                type: integer
                format: int32
    PKIProfile:
        type: object
        required:
            -   name
        properties:
            ca_certs:
                type: array
                items:
                    $ref: '#/definitions/SSLCertificate'
            created_by:
                description: "Creator name"
                type: string
            crl_check:
                description: "When enabled, Avi will verify via CRL checks that certificates in the trust chain have not been revoked."
                type: boolean
            crls:
                type: array
                items:
                    $ref: '#/definitions/CRL'
            ignore_peer_chain:
                description: "When enabled, Avi will not trust Intermediate and Root certs presented by a client.  Instead, only the chain certs configured in the Certificate Authority section will be used to verify trust of the client's cert."
                type: boolean
            name:
                description: "Name of the PKI Profile"
                type: string
            tenant_ref:
                description: " object ref Tenant."
                type: string
            url:
                description: "url"
                readOnly: True
                type: string
            uuid:
                description: ""
                type: string
            validate_only_leaf_crl:
                description: "When enabled, Avi will only validate the revocation status of the leaf certificate using CRL. To enable validation for the entire chain, disable this option and provide all the relevant CRLs"
                type: boolean
    PKIProfileApiResponse:
        type: object
        required:
            - count
            - results
        properties:
            count:
                type: integer
                format: int32
            results:
                type: array
                items:
                    $ref: "#/definitions/PKIProfile"
    SSLCertificate:
        type: object
        properties:
            certificate:
                description: ""
                type: string
            certificate_signing_request:
                description: ""
                type: string
            chain_verified:
                description: ""
                type: boolean
            days_until_expire:
                description: ""
                type: integer
                format: int32
            expiry_status:
                description: "Enum options - SSL_CERTIFICATE_GOOD, SSL_CERTIFICATE_EXPIRY_WARNING, SSL_CERTIFICATE_EXPIRED"
                type: number
                format: int64
            fingerprint:
                description: ""
                type: string
            issuer:
                $ref: '#/definitions/SSLCertificateDescription'
            key_params:
                $ref: '#/definitions/SSLKeyParams'
            not_after:
                description: ""
                type: string
            not_before:
                description: ""
                type: string
            public_key:
                description: ""
                type: string
            self_signed:
                description: ""
                type: boolean
            serial_number:
                description: ""
                type: string
            signature:
                description: ""
                type: string
            signature_algorithm:
                description: ""
                type: string
            subject:
                $ref: '#/definitions/SSLCertificateDescription'
            subject_alt_names:
                description: "subjectAltName that provides additional subject identities"
                type: array
                items:
                    type: string
            text:
                description: ""
                type: string
            version:
                description: ""
                type: string
    SSLCertificateDescription:
        type: object
        properties:
            common_name:
                description: ""
                type: string
            country:
                description: ""
                type: string
            distinguished_name:
                description: ""
                type: string
            email_address:
                description: ""
                type: string
            locality:
                description: ""
                type: string
            organization:
                description: ""
                type: string
            organization_unit:
                description: ""
                type: string
            state:
                description: ""
                type: string
    SSLKeyECParams:
        type: object
        properties:
            curve:
                description: "Enum options - SSL_KEY_EC_CURVE_SECP256R1, SSL_KEY_EC_CURVE_SECP384R1, SSL_KEY_EC_CURVE_SECP521R1"
                type: number
                format: int64
    SSLKeyParams:
        type: object
        required:
            -   algorithm
        properties:
            algorithm:
                description: "Enum options - SSL_KEY_ALGORITHM_RSA, SSL_KEY_ALGORITHM_EC"
                type: number
                format: int64
            ec_params:
                $ref: '#/definitions/SSLKeyECParams'
            rsa_params:
                $ref: '#/definitions/SSLKeyRSAParams'
    SSLKeyRSAParams:
        type: object
        properties:
            exponent:
                description: ""
                type: integer
                format: int32
            key_size:
                description: "Enum options - SSL_KEY_1024_BITS, SSL_KEY_2048_BITS, SSL_KEY_3072_BITS, SSL_KEY_4096_BITS"
                type: number
                format: int64
