# GENERATED FILE - DO NOT EDIT THIS FILE
---
swagger: '2.0'
info:
    version: '16.3'
    title: Avi API
    contact:
        name: Avi Networks Inc.
        url: https://avinetworks.com/contact-us
        email: support@avinetworks.com
    description: GslbService API documentation
securityDefinitions:
    basicAuth:
        type: basic
        description: basic authentication
basePath: /api
paths:
    /gslbservice:
        get:
            consumes:
                -   application/json
            produces:
                -   application/json
            parameters:
                -   name: name
                    in: query
                    description: object name
                    required: false
                    type: string
                -   name: X-Avi-Tenant
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header
                -   name: X-Avi-Tenant-UUID
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header UUID
                -   name: X-CSRFToken
                    in: header
                    type: string
                    required: false
                    description: Avi Controller may send back CSRF token in the response cookies. The caller should update the request headers with this token else controller with reject requests.
            security:
                - basicAuth: []
            responses:
                200:
                    description: OK
                    schema:
                        $ref: "#/definitions/GslbServiceApiResponse"
                401:
                    description: log in failed
        post:
            consumes:
                -   application/json
            produces:
                -   application/json
            parameters:
                -   name: X-Avi-Tenant
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header
                -   name: X-Avi-Tenant-UUID
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header UUID
                -   name: X-CSRFToken
                    in: header
                    type: string
                    required: false
                    description: Avi Controller may send back CSRF token in the response cookies. The caller should update the request headers with this token else controller with reject requests.
                -   in: body
                    name: body
                    description: GslbService object creation
                    required: true
                    schema:
                        $ref: "#/definitions/GslbService"
            security:
                - basicAuth: []
            responses:
                200:
                    description: OK
                    schema:
                        $ref: "#/definitions/GslbService"
                401:
                    description: log in failed
    /gslbservice/{uuid}:
        get:
            consumes:
                -   application/json
            produces:
                -   application/json
            parameters:
                -   name: name
                    in: query
                    description: object name
                    required: false
                    type: string
                -   name: X-Avi-Tenant
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header
                -   name: X-Avi-Tenant-UUID
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header UUID
                -   name: X-CSRFToken
                    in: header
                    type: string
                    required: false
                    description: Avi Controller may send back CSRF token in the response cookies. The caller should update the request headers with this token else controller with reject requests.
                -   name: uuid
                    in: path
                    description: UUID of the object to fetch
                    required: true
                    type: string
            security:
                - basicAuth: []
            responses:
                200:
                    description: OK
                    schema:
                        $ref: "#/definitions/GslbService"
                401:
                    description: log in failed
        put:
            consumes:
                -   application/json
            produces:
                -   application/json
            parameters:
                -   in: query
                    name: name
                    description: object name
                    required: false
                    type: string
                -   in: header
                    name: X-Avi-Tenant
                    type: string
                    required: false
                    description: Avi Tenant Header
                -   name: X-Avi-Tenant-UUID
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header UUID
                -   name: X-CSRFToken
                    in: header
                    type: string
                    required: false
                    description: Avi Controller may send back CSRF token in the response cookies. The caller should update the request headers with this token else controller with reject requests.
                -   in: body
                    name: body
                    description: GslbService object creation
                    required: true
                    schema:
                        $ref: "#/definitions/GslbService"
                -   in: path
                    name: uuid
                    description: UUID of the object to fetch
                    required: true
                    type: string
            security:
                - basicAuth: []
            responses:
                200:
                    description: OK
                    schema:
                        $ref: "#/definitions/GslbService"
                401:
                    description: log in failed
        patch:
            consumes:
                -   application/json
            produces:
                -   application/json
            parameters:
                -   in: query
                    name: name
                    description: object name
                    required: false
                    type: string
                -   in: header
                    name: X-Avi-Tenant
                    type: string
                    required: false
                    description: Avi Tenant Header
                -   name: X-Avi-Tenant-UUID
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header UUID
                -   name: X-CSRFToken
                    in: header
                    type: string
                    required: false
                    description: Avi Controller may send back CSRF token in the response cookies. The caller should update the request headers with this token else controller with reject requests.
                -   in: body
                    name: body
                    description: GslbService object creation
                    required: true
                    schema:
                        $ref: "#/definitions/GslbService"
                -   in: path
                    name: uuid
                    description: UUID of the object to fetch
                    required: true
                    type: string
            security:
                - basicAuth: []
            responses:
                200:
                    description: OK
                    schema:
                        $ref: "#/definitions/GslbService"
                401:
                    description: log in failed
        delete:
            consumes:
                -   application/json
            produces:
                -   application/json
            parameters:
                -   in: query
                    name: name
                    description: object name
                    required: false
                    type: string
                -   in: header
                    name: X-Avi-Tenant
                    type: string
                    required: false
                    description: Avi Tenant Header
                -   name: X-Avi-Tenant-UUID
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header UUID
                -   name: X-CSRFToken
                    in: header
                    type: string
                    required: false
                    description: Avi Controller may send back CSRF token in the response cookies. The caller should update the request headers with this token else controller with reject requests.
                -   in: path
                    name: uuid
                    description: UUID of the object to fetch
                    required: true
                    type: string
            security:
                - basicAuth: []
            responses:
                204:
                    description: object deleted
                    schema:
                        type: string
                404:
                    description: not found

definitions:
    GslbPool:
        type: object
        required:
            -   algorithm
            -   name
        properties:
            algorithm:
                description: "The load balancing algorithm will pick a local member within the Gslb Service list of available Members.Enum options - GSLB_ALGORITHM_ROUND_ROBIN, GSLB_ALGORITHM_CONSISTENT_HASH"
                type: number
                format: int64
            consistent_hash_mask:
                description: "Mask to be applied on client IP for consistent hash algorithm."
                type: integer
                format: int32
            members:
                type: array
                items:
                    $ref: '#/definitions/GslbPoolMember'
            name:
                description: "Name of the Gslb Service Pool."
                type: string
            priority:
                description: "Priority of this pool of Members. If the priority of this is the highest in the group, DNS service picks up only this member for DNS responses."
                type: integer
                format: int32
    GslbPoolMember:
        type: object
        properties:
            cluster_uuid:
                description: "The Cluster UUID of the Site Controller Cluster."
                type: string
            enabled:
                description: "Enable or Disable member to decide if this address should be provided in DNS responses."
                type: boolean
            fqdn:
                description: "The member is a fully qualified domain name. The fqdn is resolved to an IP address by the controller. DNS service shall health monitor the resolved IP address while it will  return the fqdn in the DNS response."
                type: string
            ip:
                $ref: '#/definitions/IpAddr'
            ratio:
                description: "Overrides the default ratio of 1.  Reduces the percentage the LB algorithm would pick the server in relation to its peers.  Range is 1-20."
                type: integer
                format: int32
            vs_uuid:
                description: "Select local virtual service in the specified controller cluster belonging to this GslbService."
                type: string
    GslbService:
        type: object
        required:
            -   name
        properties:
            controller_health_status_enabled:
                description: "GS member's overall health status is derived based on a combination of controller and datapath health-status inputs. Datapath status is determined by the association of health monitor profiles, while the controller provided status is determined through this configuration. "
                type: boolean
            description:
                description: ""
                type: string
            domain_names:
                description: "Fully qualified domain name of the Gslb Service."
                type: array
                items:
                    type: string
            down_response:
                $ref: '#/definitions/GslbServiceDownResponse'
            enabled:
                description: "Enable or disable the Gslb Service. If the Gslb Service is enabled, then the VIPs are sent in the DNS responses based on reachability and configured algorithm. If the Gslb Service is disabled, then the VIPs are no longer available in the DNS response."
                type: boolean
            groups:
                type: array
                items:
                    $ref: '#/definitions/GslbPool'
            health_monitor_refs:
                description: "Verify VS health by applying one or more health monitors.  Active monitors generate synthetic traffic from DNS Service Engine and to mark a VS up or down based on the response.  object ref GslbHealthMonitor."
                type: array
                items:
                    type: string
            health_monitor_scope:
                description: "Health monitor probe can be executed for all the members or it can be executed only for Non-Avi members. This operational mode is useful to reduce the number of health monitor probes in case of a hybrid scenario where Avi members can have controller derived status while Non-Avi members can be probed by via health monitor probes in dataplane.Enum options - GSLB_SERVICE_HEALTH_MONITOR_ALL_MEMBERS, GSLB_SERVICE_HEALTH_MONITOR_ONLY_NON_AVI_MEMBERS"
                type: number
                format: int64
            name:
                description: "Name for the Gslb Service."
                type: string
            num_dns_ip:
                description: "Number of IP addresses of this Gslb Service to be returned by the DNS Service. Enter 0 to return all IP addresses."
                type: integer
                format: int32
            tenant_ref:
                description: " object ref Tenant."
                type: string
            ttl:
                description: "TTL value (in seconds) for records served for this Gslb Service by the DNS Service."
                type: integer
                format: int32
            url:
                description: "url"
                readOnly: True
                type: string
            uuid:
                description: "UUID of the Gslb Service."
                type: string
    GslbServiceApiResponse:
        type: object
        required:
            - count
            - results
        properties:
            count:
                type: integer
                format: int32
            results:
                type: array
                items:
                    $ref: "#/definitions/GslbService"
    GslbServiceDownResponse:
        type: object
        required:
            -   type
        properties:
            fallback_ip:
                $ref: '#/definitions/IpAddr'
            type:
                description: "Response from DNS service towards the client when the Gslb Service is DOWN.Enum options - GSLB_SERVICE_DOWN_RESPONSE_NONE, GSLB_SERVICE_DOWN_RESPONSE_ALL_RECORDS, GSLB_SERVICE_DOWN_RESPONSE_FALLBACK_IP, GSLB_SERVICE_DOWN_RESPONSE_EMPTY"
                type: number
                format: int64
    IpAddr:
        type: object
        required:
            -   addr
            -   type
        properties:
            addr:
                description: "IP address"
                type: string
            type:
                description: "Enum options - V4, DNS"
                type: number
                format: int64
