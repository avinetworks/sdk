# GENERATED FILE - DO NOT EDIT THIS FILE
---
swagger: '2.0'
info:
    version: '16.3'
    title: Avi API
    contact:
        name: Avi Networks Inc.
        url: https://avinetworks.com/contact-us
        email: support@avinetworks.com
    description: HardwareSecurityModuleGroup API documentation
securityDefinitions:
    basicAuth:
        type: basic
        description: basic authentication
basePath: /api
paths:
    /hardwaresecuritymodulegroup:
        get:
            consumes:
                -   application/json
            produces:
                -   application/json
            parameters:
                -   name: name
                    in: query
                    description: object name
                    required: false
                    type: string
                -   name: X-Avi-Tenant
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header
                -   name: X-Avi-Tenant-UUID
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header UUID
                -   name: X-CSRFToken
                    in: header
                    type: string
                    required: false
                    description: Avi Controller may send back CSRF token in the response cookies. The caller should update the request headers with this token else controller with reject requests.
            security:
                - basicAuth: []
            responses:
                200:
                    description: OK
                    schema:
                        $ref: "#/definitions/HardwareSecurityModuleGroupApiResponse"
                401:
                    description: log in failed
        post:
            consumes:
                -   application/json
            produces:
                -   application/json
            parameters:
                -   name: X-Avi-Tenant
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header
                -   name: X-Avi-Tenant-UUID
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header UUID
                -   name: X-CSRFToken
                    in: header
                    type: string
                    required: false
                    description: Avi Controller may send back CSRF token in the response cookies. The caller should update the request headers with this token else controller with reject requests.
                -   in: body
                    name: body
                    description: HardwareSecurityModuleGroup object creation
                    required: true
                    schema:
                        $ref: "#/definitions/HardwareSecurityModuleGroup"
            security:
                - basicAuth: []
            responses:
                200:
                    description: OK
                    schema:
                        $ref: "#/definitions/HardwareSecurityModuleGroup"
                401:
                    description: log in failed
    /hardwaresecuritymodulegroup/{uuid}:
        get:
            consumes:
                -   application/json
            produces:
                -   application/json
            parameters:
                -   name: name
                    in: query
                    description: object name
                    required: false
                    type: string
                -   name: X-Avi-Tenant
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header
                -   name: X-Avi-Tenant-UUID
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header UUID
                -   name: X-CSRFToken
                    in: header
                    type: string
                    required: false
                    description: Avi Controller may send back CSRF token in the response cookies. The caller should update the request headers with this token else controller with reject requests.
                -   name: uuid
                    in: path
                    description: UUID of the object to fetch
                    required: true
                    type: string
            security:
                - basicAuth: []
            responses:
                200:
                    description: OK
                    schema:
                        $ref: "#/definitions/HardwareSecurityModuleGroup"
                401:
                    description: log in failed
        put:
            consumes:
                -   application/json
            produces:
                -   application/json
            parameters:
                -   in: query
                    name: name
                    description: object name
                    required: false
                    type: string
                -   in: header
                    name: X-Avi-Tenant
                    type: string
                    required: false
                    description: Avi Tenant Header
                -   name: X-Avi-Tenant-UUID
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header UUID
                -   name: X-CSRFToken
                    in: header
                    type: string
                    required: false
                    description: Avi Controller may send back CSRF token in the response cookies. The caller should update the request headers with this token else controller with reject requests.
                -   in: body
                    name: body
                    description: HardwareSecurityModuleGroup object creation
                    required: true
                    schema:
                        $ref: "#/definitions/HardwareSecurityModuleGroup"
                -   in: path
                    name: uuid
                    description: UUID of the object to fetch
                    required: true
                    type: string
            security:
                - basicAuth: []
            responses:
                200:
                    description: OK
                    schema:
                        $ref: "#/definitions/HardwareSecurityModuleGroup"
                401:
                    description: log in failed
        patch:
            consumes:
                -   application/json
            produces:
                -   application/json
            parameters:
                -   in: query
                    name: name
                    description: object name
                    required: false
                    type: string
                -   in: header
                    name: X-Avi-Tenant
                    type: string
                    required: false
                    description: Avi Tenant Header
                -   name: X-Avi-Tenant-UUID
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header UUID
                -   name: X-CSRFToken
                    in: header
                    type: string
                    required: false
                    description: Avi Controller may send back CSRF token in the response cookies. The caller should update the request headers with this token else controller with reject requests.
                -   in: body
                    name: body
                    description: HardwareSecurityModuleGroup object creation
                    required: true
                    schema:
                        $ref: "#/definitions/HardwareSecurityModuleGroup"
                -   in: path
                    name: uuid
                    description: UUID of the object to fetch
                    required: true
                    type: string
            security:
                - basicAuth: []
            responses:
                200:
                    description: OK
                    schema:
                        $ref: "#/definitions/HardwareSecurityModuleGroup"
                401:
                    description: log in failed
        delete:
            consumes:
                -   application/json
            produces:
                -   application/json
            parameters:
                -   in: query
                    name: name
                    description: object name
                    required: false
                    type: string
                -   in: header
                    name: X-Avi-Tenant
                    type: string
                    required: false
                    description: Avi Tenant Header
                -   name: X-Avi-Tenant-UUID
                    in: header
                    type: string
                    required: false
                    description: Avi Tenant Header UUID
                -   name: X-CSRFToken
                    in: header
                    type: string
                    required: false
                    description: Avi Controller may send back CSRF token in the response cookies. The caller should update the request headers with this token else controller with reject requests.
                -   in: path
                    name: uuid
                    description: UUID of the object to fetch
                    required: true
                    type: string
            security:
                - basicAuth: []
            responses:
                204:
                    description: object deleted
                    schema:
                        type: string
                404:
                    description: not found

definitions:
    HardwareSecurityModule:
        type: object
        required:
            -   type
        properties:
            nethsm:
                type: array
                items:
                    $ref: '#/definitions/HSMThalesNetHsm'
            rfs:
                $ref: '#/definitions/HSMThalesRFS'
            sluna:
                $ref: '#/definitions/HSMSafenetLuna'
            type:
                description: "HSM type to use. Enum options - HSM_TYPE_THALES_NETHSM, HSM_TYPE_SAFENET_LUNA"
                type: number
                format: int64
    HardwareSecurityModuleGroup:
        type: object
        required:
            -   hsm
            -   name
        properties:
            hsm:
                $ref: '#/definitions/HardwareSecurityModule'
            name:
                description: "Name of the HSM Group configuration object"
                type: string
            tenant_ref:
                description: " object ref Tenant."
                type: string
            url:
                description: "url"
                readOnly: True
                type: string
            uuid:
                description: "UUID of the HSM Group configuration object"
                type: string
    HardwareSecurityModuleGroupApiResponse:
        type: object
        required:
            - count
            - results
        properties:
            count:
                type: integer
                format: int32
            results:
                type: array
                items:
                    $ref: "#/definitions/HardwareSecurityModuleGroup"
    HSMSafenetClientInfo:
        type: object
        required:
            -   client_ip
        properties:
            chrystoki_conf:
                description: "Generated File - Chrystoki.conf "
                readOnly: True
                type: string
            client_cert:
                description: "Client Certificate generated by createCert"
                type: string
            client_ip:
                description: "Name prepended to client key and certificate filename"
                type: string
            client_priv_key:
                description: "Client Private Key generated by createCert"
                type: string
    HSMSafenetLuna:
        type: object
        required:
            -   is_ha
        properties:
            ha_group_num:
                description: "Group Number of generated HA Group"
                readOnly: True
                type: integer
                format: int32
            is_ha:
                description: "Set to indicate HA across more than one servers"
                type: boolean
            node_info:
                type: array
                items:
                    $ref: '#/definitions/HSMSafenetClientInfo'
            server:
                type: array
                items:
                    $ref: '#/definitions/HSMSafenetLunaServer'
            server_pem:
                description: "Generated File - server.pem"
                readOnly: True
                type: string
    HSMSafenetLunaServer:
        type: object
        required:
            -   remote_ip
            -   server_cert
        properties:
            partition_passwd:
                description: "Password of the partition assigned to this client"
                type: string
            remote_ip:
                description: "IP address of the Safenet/Gemalto HSM device"
                type: string
            server_cert:
                description: "CA certificate of the server"
                type: string
    HSMThalesNetHsm:
        type: object
        required:
            -   esn
            -   keyhash
            -   priority
            -   remote_ip
        properties:
            esn:
                description: "Electronic serial number of the netHSM device. Use Thales anonkneti utility to find the netHSM ESN"
                type: string
            keyhash:
                description: "Hash of the key that netHSM device uses to authenticate itself. Use Thales anonkneti utility to find the netHSM keyhash"
                type: string
            module_id:
                description: "Local module id of the netHSM device"
                type: integer
                format: int32
            priority:
                description: "Priority class of the nethsm in an high availability setup. 1 is the highest priority and 100 is the lowest priority"
                type: integer
                format: int32
            remote_ip:
                $ref: '#/definitions/IpAddr'
            remote_port:
                description: "Port at which the netHSM device accepts the connection"
                type: integer
                format: int32
    HSMThalesRFS:
        type: object
        required:
            -   ip
        properties:
            ip:
                $ref: '#/definitions/IpAddr'
            port:
                description: "Port at which the RFS server accepts the sync request from clients for Thales encrypted private key"
                type: integer
                format: int32
    IpAddr:
        type: object
        required:
            -   addr
            -   type
        properties:
            addr:
                description: "IP address"
                type: string
            type:
                description: "Enum options - V4, DNS"
                type: number
                format: int64
