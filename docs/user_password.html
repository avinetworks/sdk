<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title> User-Password </title>

    <!-- Bootstrap -->
    <link href="bootstrap.min.css" rel="stylesheet">
    <link href="bootstrap-theme.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesnt work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
<body>
<h1 class='text-primary'>User</h1>

<h3 class='text-primary'>API</h3>
<div class="container">
<pre><code>
    POST /api/user
    GET /api/user
    PUT /api/user/&ltkey&gt
    DELETE /api/user/&ltkey&gt
    GET /api/user/&ltkey&gt
</code></pre>
</div>

<h3 class='text-primary'>CLI</h3>
<div class="container">
<pre><code>
    configure user &ltkey&gt
    show user &ltkey&gt
</code></pre>
</div>

<h3 class='text-primary'>Data</h3>
<div class='container'id=User
<p><h3 class='text-success'>User<br></h3></p>
<p><strong>uuid</strong><br></p>
<dl class='dl-horizontal'><dt>Type</dt><dd>string</dd><dt>Category</dt><dd>required</dd><dt>Description</dt><dd></dd></dl>
<p><strong>username</strong><br></p>
<dl class='dl-horizontal'><dt>Type</dt><dd>string</dd><dt>Category</dt><dd>optional</dd><dt>Description</dt><dd></dd></dl>
<p><strong>password</strong><br></p>
<dl class='dl-horizontal'><dt>Type</dt><dd>string</dd><dt>Category</dt><dd>optional</dd><dt>Description</dt><dd></dd></dl>
<p><strong>name</strong><br></p>
<dl class='dl-horizontal'><dt>Type</dt><dd>string</dd><dt>Category</dt><dd>required</dd><dt>Description</dt><dd></dd></dl>
<p><strong>email</strong><br></p>
<dl class='dl-horizontal'><dt>Type</dt><dd>string</dd><dt>Category</dt><dd>optional</dd><dt>Description</dt><dd></dd></dl>
<p><strong>access</strong><br></p>
<dl class='dl-horizontal'><dt>Type</dt><dd><a href=#UserRole>UserRole</a></dd><dt>Category</dt><dd>repeated</dd><dt>Description</dt><dd></dd></dl>
<p><strong>is_superuser</strong><br></p>
<dl class='dl-horizontal'><dt>Type</dt><dd>bool</dd><dt>Category</dt><dd>optional</dd><dt>Description</dt><dd></dd><dt>Default</dt><dd>False</dd></dl>
<p><strong>local</strong><br></p>
<dl class='dl-horizontal'><dt>Type</dt><dd>bool</dd><dt>Category</dt><dd>optional</dd><dt>Description</dt><dd></dd></dl>
<p><strong>full_name</strong><br></p>
<dl class='dl-horizontal'><dt>Type</dt><dd>string</dd><dt>Category</dt><dd>optional</dd><dt>Description</dt><dd></dd></dl>
<p><strong>default_tenant_uuid</strong><br></p>
<dl class='dl-horizontal'><dt>Type</dt><dd><a href=tenant.html#Tenant>Reference to Tenant</a></dd><dt>Category</dt><dd>optional</dd><dt>Description</dt><dd></dd></dl>
</div>


<div class='container'id=UserActivity
<p><h3 class='text-success'>UserActivity<br></h3></p>
<p><strong>uuid</strong><br></p>
<dl class='dl-horizontal'><dt>Type</dt><dd>string</dd><dt>Category</dt><dd>optional</dd><dt>Description</dt><dd></dd></dl>
<p><strong>name</strong><br></p>
<dl class='dl-horizontal'><dt>Type</dt><dd><a href=user.html#User>Reference to User</a></dd><dt>Category</dt><dd>optional</dd><dt>Description</dt><dd></dd></dl>
<p><strong>previous_password</strong><br></p>
<dl class='dl-horizontal'><dt>Type</dt><dd>string</dd><dt>Category</dt><dd>repeated</dd><dt>Description</dt><dd></dd></dl>
<p><strong>failed_login_attempts</strong><br></p>
<dl class='dl-horizontal'><dt>Type</dt><dd>uint32</dd><dt>Category</dt><dd>optional</dd><dt>Description</dt><dd></dd></dl>
<p><strong>last_login_ip</strong><br></p>
<dl class='dl-horizontal'><dt>Type</dt><dd>string</dd><dt>Category</dt><dd>optional</dd><dt>Description</dt><dd></dd></dl>
<p><strong>last_login_timestamp</strong><br></p>
<dl class='dl-horizontal'><dt>Type</dt><dd>string</dd><dt>Category</dt><dd>optional</dd><dt>Description</dt><dd></dd></dl>
<p><strong>logged_in</strong><br></p>
<dl class='dl-horizontal'><dt>Type</dt><dd>bool</dd><dt>Category</dt><dd>optional</dd><dt>Description</dt><dd></dd></dl>
<p><strong>concurrent_sessions</strong><br></p>
<dl class='dl-horizontal'><dt>Type</dt><dd>uint32</dd><dt>Category</dt><dd>optional</dd><dt>Description</dt><dd></dd></dl>
<p><strong>last_password_update</strong><br></p>
<dl class='dl-horizontal'><dt>Type</dt><dd>string</dd><dt>Category</dt><dd>optional</dd><dt>Description</dt><dd></dd></dl>
<p><strong>tenant_uuid</strong><br></p>
<dl class='dl-horizontal'><dt>Type</dt><dd><a href=tenant.html#Tenant>Reference to Tenant</a></dd><dt>Category</dt><dd>optional</dd><dt>Description</dt><dd></dd></dl>
</div>


<div class='container'id=UserRole
<p><h3 class='text-success'>UserRole<br></h3></p>
<p><strong>role_uuid</strong><br></p>
<dl class='dl-horizontal'><dt>Type</dt><dd><a href=role.html#Role>Reference to Role</a></dd><dt>Category</dt><dd>required</dd><dt>Description</dt><dd></dd></dl>
<p><strong>tenant_uuid</strong><br></p>
<dl class='dl-horizontal'><dt>Type</dt><dd><a href=tenant.html#Tenant>Reference to Tenant</a></dd><dt>Category</dt><dd>optional</dd><dt>Description</dt><dd></dd></dl>
<p><strong>all_tenants</strong><br></p>
<dl class='dl-horizontal'><dt>Type</dt><dd>bool</dd><dt>Category</dt><dd>optional</dd><dt>Description</dt><dd></dd><dt>Default</dt><dd>False</dd></dl>
</div>
<h1 class='text-primary'>References</h1>
<p>
<a href=".html"></a>
<a href=#UserRole>UserRole</a>
<a href="tenant.html">Tenant</a>
<a href=role.html#Role>Role</a>
</p>


<h1 class='text-primary'>Password Management</h1>
<h2 class='text-primary'>View/Change Current Account</h2>
<h3 class='text-primary'>Description</h3>
All users have limited access to their own account information. Any user can change their own full_name, email, and password.
<h3 class='text-primary'>API</h3>
<div class="container">
<pre><code>
    GET /api/useraccount
    PUT /api/useraccount
</code></pre>
</div>

<h3 class='text-primary'>CLI</h3>
<div class="container">
<pre><code>
    passwd
</code></pre>
</div>

<h3 class='text-primary'>Examples</h3>
<div class="container">
<pre><code>
<strong>PUT /api/useraccount</strong>
{
    "old_password": "oldpassword",
    "password": "newpassword",
    "full_name": "fullname",
    "email": "example@email.com"
}
</code></pre>
</div>

<h2 class='text-primary'>Forgot Password?</h2>
<h3 class='text-primary'>Description</h3>
If a user forgets the password to their account, the password can be reset. An email will be sent to the user, and the password can be reset by following the instructions in the email.

<h3 class='text-primary'>Examples</h3>
<div class="container">
<pre><code>
<strong>POST /api/passwordchangerequest</strong>
{
    "email": "example@email.com"
}


<strong>Sample Email:</strong>
Hi user,

You recently requested a password reset.

Please set a new password by following the link below:

&ltlink&gt

This link will be valid for the next 24 hours.

Please disregard this e-mail if you did not request a password reset.

Thanks,

- Administrator

</code></pre>
</div>
